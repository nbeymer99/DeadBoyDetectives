{
    "Changes": [
		// CREATE LOCATIONS
		{
            "Action": "EditData",
            "Target": "Data/Locations",
            "Entries": {
                "{{ModId}}_DeadBoyAgency": {
                    "CreateOnLoad": {
                        "MapPath": "Maps/{{ModId}}_DeadBoyAgency"
                    },
					"DisplayName": "Dead Boy Detective Agency",
					"DefaultArrivalTile": {
						"X": 6,
						"Y": 18,
					},
                },
				
                "{{ModId}}_TragicMicks": {
                    "CreateOnLoad": {
                        "MapPath": "Maps/{{ModId}}_TragicMicks"
                    },
					"DisplayName": "Tragic Mick's",
					"DefaultArrivalTile": {
						"X": 8,
						"Y": 23,
					},
                },
				
				"{{ModId}}_Lighthouse": {
					"CreateOnLoad": {
						"MapPath": "Maps/{{ModId}}_Lighthouse"
					},
					"DisplayName": "Point No Point Lighthouse",
					"DefaultArrivalTile": {
						"X": 85,
						"Y": 13,
					},
					"Fish": [
						{
						"Chance": 0.66,
						"Season": null,
						"FishAreaId": "Ocean",
						"BobberPosition": null,
						"PlayerPosition": null,
						"MinFishingLevel": 0,
						"MinDistanceFromShore": 0,
						"MaxDistanceFromShore": -1,
						"ApplyDailyLuck": false,
						"CuriosityLureBuff": -1.0,
						"SpecificBaitBuff": 0.0,
						"SpecificBaitMultiplier": 1.66,
						"CatchLimit": -1,
						"CanUseTrainingRod": null,
						"IsBossFish": false,
						"SetFlagOnCatch": null,
						"RequireMagicBait": false,
						"Precedence": 0,
						"IgnoreFishDataRequirements": true,
						"CanBeInherited": true,
						"ChanceModifiers": null,
						"ChanceModifierMode": "Stack",
						"ChanceBoostPerLuckLevel": 0.0,
						"UseFishCaughtSeededRandom": false,
						"Condition": null,
						"Id": "LOCATION_FISH Beach BOBBER_X BOBBER_Y WATER_DEPTH",
						"ItemId": "LOCATION_FISH Beach BOBBER_X BOBBER_Y WATER_DEPTH",
						"RandomItemId": null,
						"MaxItems": null,
						"MinStack": -1,
						"MaxStack": -1,
						"Quality": -1,
						"ObjectInternalName": null,
						"ObjectDisplayName": null,
						"ObjectColor": null,
						"ToolUpgradeLevel": -1,
						"IsRecipe": false,
						"StackModifiers": null,
						"StackModifierMode": "Stack",
						"QualityModifiers": null,
						"QualityModifierMode": "Stack",
						"ModData": null,
						"PerItemCondition": null
						},
					],
				},
				
				"{{ModId}}_LighthouseScary": {
					"CreateOnLoad": {
						"MapPath": "Maps/{{ModId}}_LighthouseScary"
					},
					"DisplayName": "Point No Point Lighthouse",
					"DefaultArrivalTile": {
						"X": 85,
						"Y": 13,
					},
				},
				
				"{{ModId}}_DeadBoyAgencyCauldron": {
                    "CreateOnLoad": { 
                        "MapPath": "Maps/{{ModId}}_DeadBoyAgencyCauldron"
                    },
					"DisplayName": "Dead Boy Detective Agency",
					"DefaultArrivalTile": {
						"X": 6,
						"Y": 18,
					},
                },
				
				"{{ModId}}_Backpack": {
                    "CreateOnLoad": {
                        "MapPath": "Maps/{{ModId}}_Backpack"
                    },
					"DisplayName": "Charles' Bag",
					"DefaultArrivalTile": {
						"X": 6,
						"Y": 10,
					},
                },
				
				"{{ModId}}_TongueAndTail": {
                    "CreateOnLoad": {
                        "MapPath": "Maps/{{ModId}}_TNTInterior"
                    },
					"DisplayName": "Tongue and Tail Butcher Shop",
					"DefaultArrivalTile": {
						"X": 14,
						"Y": 28,
					},
                },
				
				"{{ModId}}_CrystalAndNiko": {
                    "CreateOnLoad": {
                        "MapPath": "Maps/{{ModId}}_CrystalAndNiko"
                    },
					"DisplayName": "Crystal and Niko's Rooms",
					"DefaultArrivalTile": {
						"X": 25,
						"Y": 23,
					},
                },
				
				"{{ModId}}_CrystalVoid": {
                    "CreateOnLoad": {
                        "MapPath": "Maps/{{ModId}}_CrystalVoid"
                    },
					"DisplayName": "Crystal's Void",
					"DefaultArrivalTile": {
						"X": 22,
						"Y": 26,
					},
                },

				"{{ModId}}_Roof": {
                    "CreateOnLoad": {
                        "MapPath": "Maps/{{ModId}}_Roof"
                    },
					"DisplayName": "Tongue and Tail Roof",
					"DefaultArrivalTile": {
						"X": 12,
						"Y": 65,
					},
                },
				
				"{{ModId}}_SeanceMap": {
                    "CreateOnLoad": {
                        "MapPath": "Maps/{{ModId}}_SeanceMap"
                    },
					"DisplayName": "Town",
					"DefaultArrivalTile": {
						"X": 45,
						"Y": 95,
					},
                }
			}
		},
		
		// LOADS
        {
            "Action": "Load",
            "Target": "Maps/{{ModId}}_DeadBoyAgency",
            "FromFile": "assets/maps/DeadBoyAgency.tmx"
        },
		
		{
            "Action": "Load",
            "Target": "Maps/{{ModId}}_Lighthouse",
            "FromFile": "assets/maps/Lighthouse.tmx"
        },
		
		{
            "Action": "Load",
            "Target": "Maps/{{ModId}}_LighthouseScary",
            "FromFile": "assets/maps/LighthouseScary.tmx"
        },
		
        {
            "Action": "Load",
            "Target": "Maps/{{ModId}}_DeadBoyAgencyCauldron",
            "FromFile": "assets/maps/DeadBoyAgencyCauldron.tmx"
        },
		
        {
            "Action": "Load",
            "Target": "Maps/{{ModId}}_TragicMicks",
            "FromFile": "assets/maps/TragicMicks.tmx"
        },
		
		{
            "Action": "Load",
            "Target": "Maps/{{ModId}}_Backpack",
            "FromFile": "assets/maps/Backpack.tmx"
        },
		
		{
            "Action": "Load",
            "Target": "Maps/{{ModId}}_Roof",
            "FromFile": "assets/maps/Roof.tmx"
        },
		
		{
            "Action": "Load",
            "Target": "Maps/{{ModId}}_TNTInterior",
            "FromFile": "assets/maps/TNTInterior.tmx"
        },
		
		{
            "Action": "Load",
            "Target": "Maps/{{ModId}}_CrystalAndNiko",
            "FromFile": "assets/maps/CrystalAndNiko.tmx",
			"When": {
				"HasSeenEvent |contains={{ModId}}_Seance2": true,
			}
        },
		
		{
			"LogName": "NikoRoomRuins",
			"Action": "Load",
			"Target": "Maps/{{ModId}}_CrystalAndNiko",
			"FromFile": "assets/maps/CrystalAndNiko_Ruins.tmx",
			"When": {
				"HasSeenEvent |contains={{ModId}}_Seance2": false,
			}
		},
		
		{
            "Action": "Load",
            "Target": "Maps/{{ModId}}_CrystalAndNiko_Ruins",
            "FromFile": "assets/maps/CrystalAndNiko_Ruins.tmx"
        },
		
		{
            "Action": "Load",
            "Target": "Maps/{{ModId}}_SeanceMap",
            "FromFile": "assets/maps/Seance.tmx"
        },
		
		{
            "Action": "Load",
            "Target": "Maps/{{ModId}}_CrystalVoid",
            "FromFile": "assets/maps/CrystalVoid.tmx"
        },
			
		// MAP PATCHES
		{
			"Action": "EditMap",
			"Target": "Maps/CommunityCenter_Ruins",
			"FromFile": "assets/maps/CommunityCenter_RuinsRedux.tmx",
			"FromArea": { "X": 45, "Y": 14, "Width": 7, "Height": 6 },
			"ToArea": { "X": 45, "Y": 14, "Width": 7, "Height": 6 }
		},
		{
			"Action": "EditMap",
			"Target": "Maps/CommunityCenter_Refurbished",
			"FromFile": "assets/maps/CommunityCenter_RuinsRedux.tmx",
			"FromArea": { "X": 45, "Y": 14, "Width": 7, "Height": 6 },
			"ToArea": { "X": 45, "Y": 14, "Width": 7, "Height": 6 }
		},
		{
			"Action": "EditMap",
			"Target": "Maps/CommunityCenter_Joja",
			"FromFile": "assets/maps/CommunityCenter_RuinsRedux.tmx",
			"FromArea": { "X": 45, "Y": 14, "Width": 7, "Height": 6 },
			"ToArea": { "X": 45, "Y": 14, "Width": 7, "Height": 6 }
		},
		{
			"Action": "EditMap",
			"Target": "Maps/Beach",
			"FromFile": "assets/maps/Beach_DBDA.tmx",
			"FromArea": { "X": 0, "Y": 3, "Width": 10, "Height": 10 },
			"ToArea": { "X": 0, "Y": 3, "Width": 10, "Height": 10 }			
		},
		{
			"Action": "EditMap",
			"Target": "Maps/Town",
			"FromFile": "assets/maps/TongueAndTail.tmx",
			"FromArea": { "X": 6, "Y": 62, "Width": 16, "Height": 15 },
			"ToArea": { "X": 6, "Y": 62, "Width": 16, "Height": 15 }
		},
		{
			"Action": "EditMap",
			"Target": "Maps/Town",
			"FromFile": "assets/maps/Town_Swing.tmx",
			"FromArea": { "X": 15, "Y": 12, "Width": 1, "Height": 1 },
			"ToArea": { "X": 15, "Y": 12, "Width": 1, "Height": 1 }
		},
		
		{
			"Action": "EditMap",
			"Target": "Maps/{{ModId}}_CrystalAndNiko",
			"FromFile": "assets/maps/CrystalTreeWarp.tmx",
			"FromArea": { "X": 0, "Y": 0, "Width": 1, "Height": 2 },
			"ToArea": { "X": 37, "Y": 9, "Width": 1, "Height": 2 },
			"When": {
				"Hearts:CrystalPalace": "10, 11, 12, 13"
			}
		},
		
		// MAP EDITS
			// Elevator NPC warp
		{
			"Action":"EditMap",
			"Target":"Maps/CommunityCenter_Refurb",
			"AddNPCWarps": [
				"50 18 {{ModId}}_DeadBoyAgency 6 18"
				],
		},
		{
			"Action":"EditMap",
			"Target":"Maps/CommunityCenter_Ruins",
			"AddNPCWarps": [
				"50 18 {{ModId}}_DeadBoyAgency 6 18"
				],
		},
		{
			"Action":"EditMap",
			"Target":"Maps/CommunityCenter_Joja",
			"AddNPCWarps": [
				"50 18 {{ModId}}_DeadBoyAgency 6 18"
				],
		},
			//beach NPC warp
		{
			"Action":"EditMap",
			"Target":"Maps/Beach",
			"MapProperties":{
			"NPCWarp": "0 6 {{ModId}}_Lighthouse 103 8"
			}
		},
			// beach warps
		{
			"Action": "EditMap",
			"Target": "Maps/Beach",
			"AddWarps": ["-1 4 {{ModId}}_Lighthouse 103 7", "-1 5 {{ModId}}_Lighthouse 103 8", "-1 6 {{ModId}}_Lighthouse 103 9", "-1 7 {{ModId}}_Lighthouse 103 10", "-1 8 {{ModId}}_Lighthouse 103 10"],
		},
		
		// from https://stardewmodding.wiki.gg/wiki/Tutorial:_Adding_a_New_Fish
		{
			"Action": "EditData",
			"Target": "Data/Locations",
			"LogName": "Add Angie",
			"TargetField": [
				"{{ModId}}_Lighthouse",
				"Fish"
			],
			"Entries": {
				"{{ModId}}_Angie": {
					"ID": "Angie",
					"ItemId": "{{ModId}}_Angie",
					"Chance": 0.5,
					"Season": "Winter",
					"MinFishingLevel": 6,
					"ApplyDailyLuck": true,
					"CuriosityLureBuff": 2,
					"CatchLimit": 1,
					"CanUseTrainingRod": false,
					"IsBossFish": true
				}
			}
		},
		
		// SVE compat
		{
			"Action": "EditMap",
			"Target": "Maps/{{ModId}}_Lighthouse",
			"FromFile": "assets/maps/Lighthouse_SVE.tmx",
			"FromArea": { "X": 26, "Y": 0, "Width": 12, "Height": 5 },
			"ToArea": { "X": 26, "Y": 0, "Width": 12, "Height": 5 },
			"When": {
				"HasMod": "FlashShifter.StardewValleyExpandedCP",
			}
		},
		{
			"Action": "EditMap",
			"Target": "Maps/Custom_BlueMoonVineyard",
			"AddWarps": [
				"56 61 {{ModId}}_Lighthouse 32 1",
				"56 62 {{ModId}}_Lighthouse 32 1",
				"56 63 {{ModId}}_Lighthouse 32 1",
				"56 64 {{ModId}}_Lighthouse 32 1"
			],
			"When": {
				"HasMod": "FlashShifter.StardewValleyExpandedCP",
			}
		},
		{
			"Action": "EditMap",
			"Target": "Maps/{{ModId}}_Lighthouse",
			"AddWarps": [
				"32 0 Custom_BlueMoonVineyard 55 63"
			],
			"When": {
				"HasMod": "FlashShifter.StardewValleyExpandedCP",
			}
		},
		
		// EDIT TOWN MAP
		//
			// day/night tiles and lighting
		{
            "Action": "EditMap",
            "Target": "Maps/Town",
			"TextOperations": [
			{
				"Operation": "Append",
				"Target": ["MapProperties", "NightTiles"],
				"Value": "AlwaysFront 18 70 11 AlwaysFront 19 70 12 AlwaysFront 18 71 24 AlwaysFront 19 71 25 AlwaysFront 18 72 37 AlwaysFront 19 72 38",
				"Delimiter": " "
			},
			
			{
				"Operation": "Append",
				"Target": ["MapProperties", "DayTiles"],
				"Value": "AlwaysFront 18 70 50 AlwaysFront 19 70 51 AlwaysFront 18 71 63 AlwaysFront 19 71 64 AlwaysFront 18 72 76 AlwaysFront 19 72 77",
				"Delimiter": " "
			},
			
			{
				"Operation": "Append",
				"Target": ["MapProperties", "spacechase0.SpaceCore_ColoredLights"],
				"Value": "18 70 4 1 50 255 255 19 70 4 1 50 255 255 18 71 4 1 50 255 255 19 71 4 1 50 255 255 19 72 4 1 50 255 255",
				"Delimiter": " "
			},
			]
		},
		
		{
            "Action": "EditMap",
            "Target": "Maps/Town-Halloween",
			"TextOperations": [
			{
				"Operation": "Append",
				"Target": ["MapProperties", "spacechase0.SpaceCore_ColoredLights"],
				"Value": "17 70 4 1 50 255 255 18 70 4 1 50 255 255 17 71 4 1 50 255 255 18 71 4 1 50 255 255 18 72 4 1 50 255 255",
				"Delimiter": " "
			},
			]
		},
		{
            "Action": "EditMap",
            "Target": "Maps/Town-Halloween2",
			"TextOperations": [
			{
				"Operation": "Append",
				"Target": ["MapProperties", "spacechase0.SpaceCore_ColoredLights"],
				"Value": "17 74 4 1 50 255 255 18 74 4 1 50 255 255 17 75 4 1 50 255 255 18 75 4 1 50 255 255 18 74 4 1 50 255 255",
				"Delimiter": " "
			},
			]
		},
		
		{
            "Action": "EditMap",
            "Target": "Maps/{{ModId}}_Roof",
			"TextOperations": [
			{
				"Operation": "Append",
				"Target": ["MapProperties", "NightTiles"],
				"Value": "AlwaysFront 18 70 11 AlwaysFront 19 70 12 AlwaysFront 18 71 24 AlwaysFront 19 71 25 AlwaysFront 18 72 37 AlwaysFront 19 72 38",
				"Delimiter": " "
			},
			
			{
				"Operation": "Append",
				"Target": ["MapProperties", "DayTiles"],
				"Value": "AlwaysFront 18 70 50 AlwaysFront 19 70 51 AlwaysFront 18 71 63 AlwaysFront 19 71 64 AlwaysFront 18 72 76 AlwaysFront 19 72 77",
				"Delimiter": " "
			},
			
			{
				"Operation": "Append",
				"Target": ["MapProperties", "Light"],
				"Value": "13 63 4",
				"Delimiter": " "
			},
			
			{
				"Operation": "Append",
				"Target": ["MapProperties", "spacechase0.SpaceCore_ColoredLights"],
				"Value": "18 70 4 1 50 255 255 19 70 4 1 50 255 255 18 71 4 1 50 255 255 19 71 4 1 50 255 255 19 72 4 1 50 255 255",
				"Delimiter": " "
			},
			]
		},
		
			// swing passable
		{
            "Action": "EditMap",
            "Target": "Maps/Town",
            "MapTiles": [
                {
                    "Position": {
                        "X": 15,
                        "Y": 12
                    },
                    "Layer": "Buildings",
                    "SetProperties": {
                        "Passable": "T"
                    }
                },
            ]
        },
		
			// edit Agency map - rune circle passable
		{
            "Action": "EditMap",
            "Target": "Maps/{{ModId}}_DeadBoyAgency",
            "MapTiles": [
                {
                    "Position": {
                        "X": 3,
                        "Y": 17
                    },
                    "Layer": "Buildings",
                    "SetProperties": {
                        "Passable": "T"
                    }
                },
            ]
        },
		
		{
            "Action": "EditMap",
            "Target": "Maps/{{ModId}}_CrystalAndNiko",
            "MapTiles": [
                {
                    "Position": {
                        "X": 29,
                        "Y": 12
                    },
                    "Layer": "Front2",
					"SetTilesheet": "1",
					"SetIndex": 434,
                },
            ],
			"When": {
				"HasFlag: |contains={{ModId}}_CactusGottenFlag": true,
			}
        },
		
		{
            "Action": "EditMap",
            "Target": "Maps/Beach-NightMarket",
            "MapTiles": [
                {
                    "Position": {
                        "X": 39,
                        "Y": 40
                    },
                    "Layer": "Buildings",
                    "SetProperties": {
                        "NPCPassable": "T"
                    }
                },
            ]
        },
		{
            "Action": "EditMap",
            "Target": "Maps/Beach-NightMarket",
            "MapTiles": [
                {
                    "Position": {
                        "X": 40,
                        "Y": 40
                    },
                    "Layer": "Buildings",
                    "SetProperties": {
                        "NPCPassable": "T"
                    }
                },
            ]
        },
		
		{
            "Action": "EditMap",
            "Target": "Maps/Beach-NightMarket",
            "MapTiles": [
                {
                    "Position": {
                        "X": 41,
                        "Y": 40
                    },
                    "Layer": "Buildings",
                    "SetProperties": {
                        "NPCPassable": "T"
                    }
                },
            ]
        },
		
		{
            "Action": "EditMap",
            "Target": "Maps/Beach-NightMarket",
            "MapTiles": [
                {
                    "Position": {
                        "X": 42,
                        "Y": 40
                    },
                    "Layer": "Buildings",
                    "SetProperties": {
                        "NPCPassable": "T"
                    }
                },
            ]
        },
	]
}
	
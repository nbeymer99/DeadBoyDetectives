{
	"Changes": [
	
	// TRIGGER ACTIONS
	{
		"Action": "EditData",
		"Target": "Data/TriggerActions",
		"Entries": {
			// --- MAIL ---
			// send mail - DH quest begin
			"{{ModId}}_DH_HelpRequest": {
				"Id": "{{ModId}}_DH_HelpRequest",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_FRIENDSHIP_POINTS Current EdwinPayne 2500, PLAYER_FRIENDSHIP_POINTS Current CharlesRowland 2500, PLAYER_FRIENDSHIP_POINTS Current CrystalPalace 2500, PLAYER_FRIENDSHIP_POINTS Current NikoSasaki 2500", // check players
				"Actions": [
					"AddMail Current {{ModId}}_DH_HelpRequest now", // check players
					"SetNpcInvisible EdwinPayne 999", // can only be used by host
				]
			},
			
			//send mail - angie quest
			"{{ModId}}AngieQuestMail": {
				"Id": "{{ModId}}_AngieQuestMail",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_BASE_FISHING_LEVEL Current 7",
				"Actions": [
					"AddMail Current {{ModId}}_CatchAngie now",
				]
			},
			
			// send joja goodbye mail
			"{{ModId}}_JojaGoodbyeMail": {
				"Id": "{{ModId}}_JojaGoodbyeMail",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_HAS_MAIL Host ccMovieTheaterJoja Any",
				"Actions": [
					"AddMail All {{ModId}}_JojaTheatreGoodbye now",
				]
			},
			
			// send edwin 10 heart event invite
			"{{ModId}}Edwin10hearts": {
				"Id": "{{ModId}}_EdwinHearts10",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_FRIENDSHIP_POINTS Current EdwinPayne 2500",
				"Actions": [
					"AddMail Current {{ModId}}_EdwinProtectionSpellInvite now",
				]
			},
			// send charles 10 heart event invite
			"{{ModId}}Charles10hearts": {
				"Id": "{{ModId}}_CharlesHearts10",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_FRIENDSHIP_POINTS Current CharlesRowland 2500",
				"Actions": [
					"AddMail Current {{ModId}}_CharlesAmuletInvite now",
				]
			},
			
			// send mail - crystal void invitation
			"{{ModId}}Crystal10Hearts": {
				"Id": "{{ModId}}_CrystalHearts10",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_FRIENDSHIP_POINTS Current CrystalPalace 2500",
				"Actions": [
					"AddMail Current {{ModId}}_CrystalSapling now",
				]
			},
			
			// send niko 10 heart event invite
			"{{ModId}}Niko10Hearts": {
				"Id": "{{ModId}}_Niko10Hearts",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_FRIENDSHIP_POINTS Current NikoSasaki 2500",
				"Actions": [
					"AddMail Current {{ModId}}_NikoHandMirror now",
				]
			},
			
			// send mail - edwin cactus quest mail
			"{{ModId}}_EdwinCactusMail": {
				"Id": "{{ModId}}_EdwinCactusMail",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_FRIENDSHIP_POINTS Current CrystalPalace 1500",
				"Actions": [
					"AddMail Current {{ModId}}_CrystalCactus now",
				]
			},
			
			// --- NOT MAIL ---
			
			// add edwin's 10 heart buff
			"EdwinPayne_10": {
				"Id": "{{ModId}}_EdwinProtectionSpell",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_HAS_SEEN_EVENT Current {{ModId}}_edwinhearts10",
				"HostOnly": false,
				"MarkActionApplied": false,
				"Actions": [
					"AddBuff edwin_defense"
				]
			},
			//add charles' 10 heart buff
			"CharlesRowland_10": {
				"Id": "CharlesRowland_10",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_HAS_SEEN_EVENT Current {{ModId}}_charleshearts10",
				"HostOnly": false,
				"MarkActionApplied": false,
				"Actions": [
					"AddBuff charles_attack"
				]
			},
			// gathering ingredients quests complete
			"SeanceIngredients": {
				"Id": "SeanceIngredients",
				"Trigger": "LocationChanged",
				"Condition": "PLAYER_HAS_MAIL Host {{ModId}}_SeanceIngredients1, PLAYER_HAS_MAIL Host {{ModId}}_SeanceIngredients2, PLAYER_HAS_MAIL Host {{ModId}}_SeanceIngredients3",
				"HostOnly": true,
				"MarkActionApplied": true,
				"Actions": [
					"AddMail Host {{ModId}}_SeanceIngredientsComplete received",
				]
			},
			// give seance 2 invitation quest
			"{{ModId}}_Seance2Quest": {
				"Id": "{{ModId}}_Seance2Quest",
				"Trigger": "DayEnding",
				"Condition": "PLAYER_FARMING_LEVEL Current 5",
				"Actions": [
					"AddMail Host {{ModId}}_SeanceInvitation2 tomorrow"
				]
			},
			// give everbloom quest
			"{{ModId}}_EverbloomQuest": {
				"Id": "{{ModId}}_EverbloomQuest",
				"Trigger": "DayEnding",
				"Condition": "PLAYER_FARMING_LEVEL Current 5",
				"Actions": [
					"AddMail Current {{ModId}}_GiveEverbloomQuest tomorrow"
				]
			},
			// 3 hearts with the crew - new stock at tragic mick's
			"{{ModId}}_TM_NewStock_Mail": {
				"Id": "{{ModId}}_TM_NewStock_Mail",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_FRIENDSHIP_POINTS Current EdwinPayne 750, PLAYER_FRIENDSHIP_POINTS Current CharlesRowland 750, PLAYER_FRIENDSHIP_POINTS Current CrystalPalace 750, PLAYER_FRIENDSHIP_POINTS Current NikoSasaki 750",
				"Actions": [
					"AddMail Current {{ModId}}_TM_NewStock now",
				]
			},
			// monty 10 heart flag
			"{{ModId}}_Monty10Hearts": {
				"Id": "{{ModId}}_Monty10Hearts",
				"Trigger": "DayStarted",
				"Condition": "PLAYER_FRIENDSHIP_POINTS Host MontyFinch 2500",
				"Actions": [
					"AddMail Host {{ModId}}_MontyTNT received",
				]
			},
			// elevator ding
			"{{ModId}}_CCElevator": {
				"Id": "{{ModId}}_CCElevator",
				"Trigger": "Manual",
				"Actions": [
					"spacechase0.SpaceCore_PlaySound crystal true",
					"Spiderbuttons.BETAS_WarpFarmer handwrittenhello.dbda_DeadBoyAgency 6 18 0"
				]
			},
			
			// tree warp there
			"{{ModId}}_TreeWarp": {
				"Id": "{{ModId}}_TreeWarp",
				"Trigger": "Manual",
				"Actions": [
					"spacechase0.SpaceCore_PlaySound leafrustle true",
					"Spiderbuttons.BETAS_WarpFarmer handwrittenhello.dbda_CrystalVoid 16 14 2"
				]
			},
			
			// tree warp back
			"{{ModId}}_TreeWarp_Back": {
				"Id": "{{ModId}}_TreeWarp_Back",
				"Trigger": "Manual",
				"Actions": [
					"spacechase0.SpaceCore_PlaySound leafrustle true",
					"Spiderbuttons.BETAS_WarpFarmer handwrittenhello.dbda_CrystalAndNiko 37 11 2"
				]
			},
			// dungeon doors monty hall price is right
			"{{ModId}}_DungeonDoors1": {
				"Id": "{{ModId}}_DungeonDoors1",
				"Trigger": "Manual",
				"MarkActionApplied": false,
				"Actions": [
					"mushymato.MMAP_WrpHere 0 -3 -1 false true",
					"Spiderbuttons.BETAS_PlaySound doorClose",
					//"Spiderbuttons.BETAS_TriggerAction {{ModId}}_DungeonDoorSpawnChance"
				]
			},
			"{{ModId}}_DungeonDoors2": {
				"Id": "{{ModId}}_DungeonDoors2",
				"Trigger": "Manual",
				"MarkActionApplied": false,
				"Actions": [
					"mushymato.MMAP_WrpHere 0 -3 -1 false true", 
					"Spiderbuttons.BETAS_PlaySound doorClose",
					//"Spiderbuttons.BETAS_TriggerAction {{ModId}}_DungeonDoorSpawnChance"
				]
			},
			"{{ModId}}_DungeonDoors3": {
				"Id": "{{ModId}}_DungeonDoors3",
				"Trigger": "Manual",
				"MarkActionApplied": false,
				"Actions": [
					"mushymato.MMAP_WrpHere 0 -3 -1 false true",
					"Spiderbuttons.BETAS_PlaySound doorClose",
					//"Spiderbuttons.BETAS_TriggerAction {{ModId}}_DungeonDoorSpawnChance"
				]
			},	
			"{{ModId}}_DungeonDoorsReturn1": {
				"Id": "{{ModId}}_DungeonDoorsReturn1",
				"Trigger": "Manual",
				"MarkActionApplied": false,
				"Actions": [
					"mushymato.MMAP_WrpHere 0 3 -1 false true",
					//"mushymato.MMAP_UpdateMapOverride Here - handwrittenhello.dbda_Door1Override",
					"Spiderbuttons.BETAS_PlaySound doorClose",
					//"Spiderbuttons.BETAS_TriggerAction {{ModId}}_DungeonDoorSpawnChance"
				]
			},
			"{{ModId}}_DungeonDoorsReturn2": {
				"Id": "{{ModId}}_DungeonDoorsReturn2",
				"Trigger": "Manual",
				"MarkActionApplied": false,
				"Actions": [
					"mushymato.MMAP_WrpHere 0 3 -1 false true", 
					//"mushymato.MMAP_UpdateMapOverride Here - handwrittenhello.dbda_Door2Override",
					"Spiderbuttons.BETAS_PlaySound doorClose",
					//"Spiderbuttons.BETAS_TriggerAction {{ModId}}_DungeonDoorSpawnChance"
				]
			},
			"{{ModId}}_DungeonDoorsReturn3": {
				"Id": "{{ModId}}_DungeonDoorsReturn3",
				"Trigger": "Manual",
				"MarkActionApplied": false,
				"Actions": [
					"mushymato.MMAP_WrpHere 0 3 -1 false true",
					//"mushymato.MMAP_UpdateMapOverride Here - handwrittenhello.dbda_Door3Override",
					"Spiderbuttons.BETAS_PlaySound doorClose",
					//"Spiderbuttons.BETAS_TriggerAction {{ModId}}_DungeonDoorSpawnChance"
				]
			},	
			
			// crystal void stamina regen - apply
			"{{ModId}}_CrystalVoidStaminaRegen": {
				"Id": "{{ModId}}_CrystalVoidStaminaRegen",
				"Trigger": "LocationChanged",
				"Condition": "LOCATION_NAME Target {{ModId}}_CrystalVoid",
				"MarkActionApplied": false,
				"Actions": [
					"AddBuff {{ModId}}_CrystalVoidRegen",
				],
			},
			
			// crystal void stamina regen - remove
			"{{ModId}}_CrystalVoidStaminaRegen_Remove": {
				"Id": "{{ModId}}_CrystalVoidStaminaRegen_Remove",
				"Trigger": "LocationChanged",
				"Condition": "LOCATION_NAME Target {{ModId}}_CrystalAndNiko",
				"MarkActionApplied": false,
				"Actions": [
					"RemoveBuff {{ModId}}_CrystalVoidRegen",
				],
			},
			
			// 8 ball luck return
			"{{ModId}}_8BallUsed_Bad": {
				"Id": "{{ModId}}_8BallUsed_Bad",
				"Trigger": "spacechase0.SpaceCore_OnItemUsed",
				"Condition": "ITEM_ID Input {{ModId}}_Magic8Ball, {{Query: {{DailyLuck}} < 0}}",
				"MarkActionApplied": false,
				"Actions": [
					"spacechase0.SpaceCore_ShowHudMessage \"Outlook not so good...\" (O){{ModId}}_Magic8Ball"
				],
			},
			
			"{{ModId}}_8BallUsed_Neutral": {
				"Id": "{{ModId}}_8BallUsed_Neutral",
				"Trigger": "spacechase0.SpaceCore_OnItemUsed",
				"Condition": "ITEM_ID Input {{ModId}}_Magic8Ball, {{Query: {{DailyLuck}} = 0}}",
				"MarkActionApplied": false,
				"Actions": [
					"spacechase0.SpaceCore_ShowHudMessage \"Signs point to maybe\" (O){{ModId}}_Magic8Ball"
				],
			},
			
			"{{ModId}}_8BallUsed_Good": {
				"Id": "{{ModId}}_8BallUsed_Good",
				"Trigger": "spacechase0.SpaceCore_OnItemUsed",
				"Condition": "ITEM_ID Input {{ModId}}_Magic8Ball, {{Query: {{DailyLuck}} > 0}}",
				"MarkActionApplied": false,
				"Actions": [
					"spacechase0.SpaceCore_ShowHudMessage \"Outlook favorable!\" (O){{ModId}}_Magic8Ball"
				],
			},
		},
	},
  ]
}
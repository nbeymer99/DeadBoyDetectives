{
	"Changes": [
	{
		"Action": "EditData",
		"Target": "Data/TriggerActions",
		"Entries": {
			"{{ModId}}_TerrainReset_TNTCliff": {
				"Id": "{{ModId}}_TerrainReset_TNT",
				"Trigger": "DayStarted",
				"Condition": true,
				"MarkActionApplied": false,
				"Actions": [
					"Spiderbuttons.BETAS_ClearTerrainFeatures Town All 9 62 19 72",
					"Spiderbuttons.BETAS_RegeneratePathsLayer Town 9 62 11 11",
				]
			},
		}
	},
	{
		"Action": "EditData",
		"Target": "Data/TriggerActions",
		"Entries": {
			"{{ModId}}_TerrainReset_TNTCliff2": {
				"Id": "{{ModId}}_TerrainReset_TNTCliff2",
				"Trigger": "DayStarted",
				"Condition": true,
				"MarkActionApplied": false,
				"Actions": [
					"Spiderbuttons.BETAS_ClearTerrainFeatures Town All 7 41 19 72",
					"Spiderbuttons.BETAS_RegeneratePathsLayer Town 7 41 11 11",
				]
			},
		}
	},
	// vanilla
	{
        "Action": "Load",
        "Target": "Maps/{{ModId}}_Roof",
        "FromFile": "assets/maps/Compat/Roof_Cliffside.tmx",
		"When": {
			"HasMod |contains=FlashShifter.StardewValleyExpandedCP": false
		}
    },
	{
		"Action": "EditMap",
		"Target": "Maps/Town",
		"FromFile": "assets/maps/TongueAndTail.tmx",
		"FromArea": { "X": 4, "Y": 40, "Width": 14, "Height": 15 }, 
		"ToArea": { "X": 4, "Y": 40, "Width": 14, "Height": 15 }, 
		"When": {
			"HasMod |contains=FlashShifter.StardewValleyExpandedCP": false
		}
	},
	
	// SVE
	{
        "Action": "Load",
        "Target": "Maps/{{ModId}}_Roof",
        "FromFile": "assets/maps/Compat/Roof_Cliffside_SVE.tmx", 
		"When": {
			"HasMod": "FlashShifter.StardewValleyExpandedCP"
		}
    },
	{
		"Action": "EditMap",
		"Target": "Maps/Town",
		"FromFile": "assets/maps/Compat/TNT_Cliff_SVE.tmx",
		"FromArea": { "X": 4, "Y": 40, "Width": 14, "Height": 15 }, 
		"ToArea": { "X": 4, "Y": 40, "Width": 14, "Height": 15 }, 
		"When": {
			"HasMod": "FlashShifter.StardewValleyExpandedCP"
		}
	},
	{
		// applies for both SVE and vanilla
        "Action": "EditMap",
        "Target": "Maps/Town",
		"TextOperations": [
		{
			"Operation": "Append",
			"Target": ["MapProperties", "NightTiles"],
			"Value": "AlwaysFront 15 49 11 AlwaysFront 16 49 12 AlwaysFront 15 50 24 AlwaysFront 16 50 25 AlwaysFront 15 51 37 AlwaysFront 16 51 38",
			"Delimiter": " "
		},
			
		{
			"Operation": "Append",
			"Target": ["MapProperties", "DayTiles"],
			"Value": "AlwaysFront 15 49 50 AlwaysFront 16 49 51 AlwaysFront 15 50 63 AlwaysFront 16 50 64 AlwaysFront 15 51 76 AlwaysFront 16 51 77",
			"Delimiter": " "
		},
			
		{
			"Operation": "Append",
			"Target": ["MapProperties", "spacechase0.SpaceCore_ColoredLights"],
			"Value": "15 49 4 1 50 255 255 16 49 4 1 50 255 255 15 50 4 1 50 255 255 16 50 4 1 50 255 255 16 51 4 1 50 255 255",
			"Delimiter": " "
		},
	  ]
	},
	{
        "Action": "EditMap",
        "Target": "Maps/{{ModId}}_Roof",
		"TextOperations": [
		{
			"Operation": "Append",
			"Target": ["MapProperties", "NightTiles"],
			"Value": "AlwaysFront 15 49 11 AlwaysFront 16 49 12 AlwaysFront 15 50 24 AlwaysFront 16 50 25 AlwaysFront 15 51 37 AlwaysFront 16 51 38",
			"Delimiter": " "
		},
			
		{
			"Operation": "Append",
			"Target": ["MapProperties", "DayTiles"],
			"Value": "AlwaysFront 15 49 50 AlwaysFront 16 49 51 AlwaysFront 15 50 63 AlwaysFront 16 50 64 AlwaysFront 15 51 76 AlwaysFront 16 51 77",
			"Delimiter": " "
		},
			
		{
			"Operation": "Append",
			"Target": ["MapProperties", "spacechase0.SpaceCore_ColoredLights"],
			"Value": "15 49 4 1 50 255 255 16 49 4 1 50 255 255 15 50 4 1 50 255 255 16 50 4 1 50 255 255 16 51 4 1 50 255 255",
			"Delimiter": " "
		},
	  ]
	},
	{
		"Action": "EditMap",
		"Target": "Maps/{{ModId}}_TNTInterior",
		"MapProperties": {
			"Warp": "13 30 Town 9 52 14 30 Town 10 52 12 16 handwrittenhello.dbda_CrystalAndNiko 25 24"
		}
	},
	{
		"Action": "EditMap",
		"Target": "Maps/{{ModId}}_CrystalAndNiko",
		"MapTiles": [
		{
			"Position": { "X": 25, "Y": 13 },
            "Layer": "Buildings",
			"SetProperties": { "Action": "Warp 9 44 handwrittenhello.dbda_Roof" }
		}
	  ]
	}
  ]
}